# Develop Log

## 2024-01-29

### 上传文件

1. 上传路径 `public/uploads` 
2. 处理上传后的文件名 `时间戳-原始文件名.扩展名`
3. 处理文件中图片提取路径
4. 转换后，直接下载文件
5. 将上传文件与转换后文件，提取出的图片，放到一个文件夹中，以便压缩。
6. 将文件与图片打包后，下载压缩包。
7. 优化资源路径，上传的文件，转换后的文件，与转换过程中提取出的图片。



## 2024-01-30

- [x] 优化主路由文件，将文件上传、文件转换、文件压缩逻辑分离成模块。
- [ ] 增强异常处理。
- [ ] 增加输入验证
- [ ] 文件系统错误处理
- [ ] 使用中间件处理常见任务
- [ ] 设置外部进程超时
- [ ] 在发生未处理异常时，确保服务器优雅地关闭。
- [ ] 解析错误并向用户发送易于理解的信息。
- [ ] 实现日志记录机制，跟踪常规和错误日志。
- [ ] 增强下载端点的健壮性，验证请求的文件路径，防止目录遍历攻击。

